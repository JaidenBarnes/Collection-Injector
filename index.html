<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Prefill Postcode</title>
  <script>
    window.onload = () => {
      const target = "https://my.portsmouth.gov.uk/en/AchieveForms/?form_uri=sandbox-publish://AF-Process-26e27e70-f771-47b1-a34d-af276075cede/AF-Stage-cd7cc291-2e59-42cc-8c3f-1f93e132a2c9/definition.json&redirectlink=%2Fen&cancelRedirectLink=%2Fen";

      // Open the form page
      const win = window.open(target, "_self");

      // Once loaded, wait 3 seconds before injecting
      win.addEventListener("load", () => {
        setTimeout(() => {
          try {
            const input = win.document.getElementById("postcode_search");
            if (input) {
              input.value = "ABC 123";
              input.dispatchEvent(new Event("input", { bubbles: true }));
            }
          } catch (e) {
            console.warn("Could not access form (likely cross-origin restriction).");
          }
        }, 3000);
      });
    };
  </script>
</head>
<body>
  Redirectingâ€¦
</body>
</html>
